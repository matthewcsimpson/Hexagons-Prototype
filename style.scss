$breakpoint-initial: 0px;
$breakpoint-medium: 601px;
$breakpoint-large: 901px;
$breakpoint-xlarge: 1201px;

$background: #003135;
$white: #fff;

$hexagon-inert: #024950;
$hexagon-active: #04a4af;
$hexagon-hover: #964734;

@mixin breakpoints($px) {
    @media (min-width: $px) {
        @content;
    }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: sans-serif;
}

body {
    background: $background;
}

.heading {
    width: 90%;
    margin: 0 auto;
    padding: 2rem 0 2rem 0;
    color: $white;
}

.hexagons {
    display: flex;
    flex-wrap: wrap;
    width: 90%;
    margin: 0 auto;
    overflow: hidden;
    font-family: sans-serif;
    list-style-type: none;
    padding-bottom: 11.2%;
    font-size: 12px;
}

.hexagon {
    position: relative;
    visibility: hidden;
    outline: 1px solid transparent;
    backface-visibility: hidden;
    will-change: transform;

    &::after {
        content: "";
        display: block;
        padding-bottom: 86.6%;
    }

    width: 50%;
    margin-left: 0;

    &:nth-child(3n + 3) {
        margin-left: 25%;
    }

    .hexagon_rotate {
        position: absolute;
        width: 96%;
        padding-bottom: 110.851%;
        margin: 2%;
        overflow: hidden;
        visibility: hidden;
        outline: 1px solid transparent;
        transform: rotate3d(0, 0, 1, -60deg) skewY(30deg);

        * {
            position: absolute;
            visibility: visible;
            outline: 1px solid transparent;
        }

        .hexagon_content {
            display: block;
            width: 100%;
            height: 100%;
            text-align: center;
            color: $white;
            overflow: hidden;
            transform: skewY(-30deg) rotate3d(0, 0, 1, 60deg);

            &__inert {
                background-color: $hexagon-inert;
            }
            &__active {
                background-color: $hexagon-active;
                cursor: pointer;
                &:hover {
                    background-color: $hexagon-hover;
                }
            }
        }

        &:hover {
            .hexagon_image {
                &::before,
                &::after {
                    opacity: 1;
                }
            }
            .hexagon_rotate {
                opacity: 1;
            }
        }
    }
}

.hexagon_title {
    text-transform: capitalize;
    text-align: center;
    bottom: 50%;
    padding-top: 50%;
    font-size: 1.5em;
    z-index: 1;
}
.hexagon_text {
    top: 50%;
    text-align: center;
    text-transform: uppercase;
}

.hexagon_title,
.hexagon_text {
    width: 100%;
    padding: 5%;
}

.hexagon_image {
    position: absolute;
    inset: 0;
    background-position: center center;
    background-size: cover;
    overflow: hidden;
    -webkit-clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);

    &::before,
    &::after {
        position: absolute;
        inset: 0;
        content: "";
        opacity: 0;
    }
}

@include breakpoints($breakpoint-initial) {
    .hexagons {
        font-size: 8px;
    }
}

@include breakpoints($breakpoint-medium) {
    .hexagons {
        padding-bottom: 7.4%;
        font-size: 14px;
    }
    .hexagon {
        width: 33.333%;
        margin-left: 0;

        &:nth-child(3n + 3) {
            margin-left: 0;
        }

        &:nth-child(5n + 4) {
            margin-left: 16.666%;
        }
    }
}

@include breakpoints($breakpoint-large) {
    .hexagons {
        padding-bottom: 5.5%;
        font-size: 13px;
    }
    .hexagon {
        width: 25%;
        margin-left: 0;

        &:nth-child(3n + 3),
        &:nth-child(5n + 4) {
            margin-left: 0;
        }

        &:nth-child(7n + 5) {
            margin-left: 12.5%;
        }
    }
}

@include breakpoints($breakpoint-xlarge) {
    .hexagons {
        padding-bottom: 4.4%;
    }
    .hexagon {
        width: 20%;
        margin-left: 0;

        &:nth-child(3n + 3),
        &:nth-child(5n + 4),
        &:nth-child(7n + 5) {
            margin-left: 0;
        }

        &:nth-child(9n + 6) {
            margin-left: 10%;
        }
    }
}
